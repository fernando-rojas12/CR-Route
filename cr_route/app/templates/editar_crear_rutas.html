{% extends "base.html" %}
{% load static %}

{% block title %}
    Rutas
{% endblock title %}

{% block mainContent %}

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
    integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
    crossorigin=""></script>

    <!-- Bootstrap Toggle -->
    <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>

    <link rel="stylesheet" href="{% static 'css/rutas.css' %}">

    <div class="container-fluid">

      <div class="row mt-4">

        <div class="col-6 text-center">
          <h3 class="mb-3">Edita la ruta en este mapa</h3>
        </div>

        <div class="col-6 text-center">
          <h3 class="mb-3">Datos de la ruta</h3>
        </div>

      </div>

      <div class="row justify-content-center">

        <div class="col-6 text-center">
          <div id="map" class="mb-3"></div>
          <button class="btn btn-primary mr-3" onclick="cleanMap()" type="button" id="clean_btn"><i class="fas fa-undo mr-2"></i>Limpiar</button>
          <input type="checkbox" id="flag" checked onchange="setFlag(this)" data-width="120" data-toggle="toggle" data-on="<i class='fas fa-map-marker-alt mr-2'></i>Punto" data-off="<i class='fas fa-bus-alt mr-2'></i>Parada" data-onstyle="primary" data-offstyle="success">
        </div>

        <div class="col-6 text-center">
          {% include "form_ruta.html" %}
        </div>

      </div>

    </div>

    <script type="text/javascript">
      let paradas = '{{paradas | safe}}';
    </script>

    <script src="{% static 'js/rutas.js' %}" charset="utf-8"></script>
    <script src="{% static 'js/center_map.js' %}" charset="utf-8"></script>

{% endblock mainContent %}
